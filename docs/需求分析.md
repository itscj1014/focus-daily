# Focus-Daily 需求分析文档

## 项目概述

**项目名称**: Focus-Daily  
**项目定位**: 跨平台时间专注管理应用  
**目标平台**: macOS M系列芯片设备、iOS设备  
**核心理念**: 基于科学的工作-休息周期理论，帮助用户提高专注力和工作效率

## 功能需求分析

### 1. 核心专注周期管理

#### 1.1 主周期功能
- **专注时长**: 默认90分钟专注时间
- **休息时长**: 默认20分钟长休息时间
- **周期完成**: 90分钟专注 + 20分钟休息 = 1个完整周期
- **周期提醒**: 
  - 90分钟专注结束时播放提示音
  - 20分钟休息结束时播放提示音，标志周期完成

#### 1.2 微休息功能
- **触发机制**: 在90分钟专注期间，每隔3-5分钟随机时间触发
- **休息时长**: 默认15秒微休息
- **提醒机制**: 
  - 微休息开始时播放提示音
  - 15秒结束时播放提示音，提醒继续专注
- **循环逻辑**: 微休息结束后，重新开始3-5分钟随机计时，直至90分钟专注期结束

### 2. 时间参数配置需求

#### 2.1 主周期时间配置
- **专注时长配置**: 可修改默认的90分钟
- **长休息时长配置**: 可修改默认的20分钟

#### 2.2 微休息参数配置
- **触发间隔配置**: 可修改默认的3-5分钟随机范围
- **微休息时长配置**: 可修改默认的15秒

#### 2.3 配置存储
- 用户配置需要持久化保存
- 应用重启后保持用户自定义设置

### 3. 音频提醒系统需求

#### 3.1 提示音分类
- **专注开始音**: 90分钟专注期开始时的提示音
- **微休息开始音**: 15秒微休息开始时的提示音
- **微休息结束音**: 15秒微休息结束时的提示音
- **专注结束音**: 90分钟专注期结束时的提示音
- **长休息结束音**: 20分钟休息结束时的提示音

#### 3.2 音频管理
- **默认音频**: 每种提示音都有系统默认音频
- **自定义音频**: 用户可选择或上传自定义提示音
- **音频区分**: 不同场景的提示音必须有明显区别，避免用户混淆

### 4. 用户界面需求

#### 4.1 时间显示
- **当前状态显示**: 清晰显示当前是专注期还是休息期
- **倒计时显示**: 显示当前阶段剩余时间
- **周期进度**: 显示当前周期的整体进度

#### 4.2 控制功能
- **开始/暂停**: 用户可以手动开始或暂停当前会话
- **跳过休息**: 用户可选择跳过微休息或长休息
- **重置周期**: 用户可以重新开始当前周期

#### 4.3 设置界面
- **时间参数设置**: 提供直观的时间参数调整界面
- **音频设置**: 提供音频选择和自定义功能
- **偏好设置**: 其他用户偏好配置

### 5. 跨平台兼容性需求

#### 5.1 macOS适配
- **M系列芯片优化**: 针对Apple Silicon进行性能优化
- **macOS原生体验**: 符合macOS设计规范和用户习惯
- **系统集成**: 支持macOS通知中心、菜单栏等系统功能

#### 5.2 iOS适配
- **iPhone适配**: 支持不同尺寸iPhone设备
- **iPad适配**: 充分利用iPad大屏优势
- **iOS特性**: 支持后台运行、本地通知等iOS特性

### 6. 数据统计需求

#### 6.1 使用统计
- **完成周期统计**: 记录用户完成的专注周期数量
- **专注时长统计**: 累计用户的总专注时间
- **使用习惯分析**: 分析用户的使用模式和偏好

#### 6.2 数据可视化
- **历史记录**: 显示用户的专注历史
- **成就系统**: 基于使用情况提供成就激励
- **趋势分析**: 显示用户专注能力的变化趋势

## 非功能性需求

### 1. 性能需求
- **响应速度**: 应用启动时间不超过3秒
- **资源占用**: 最小化CPU和内存占用
- **电池优化**: 对移动设备电池友好

### 2. 可用性需求
- **界面简洁**: 界面设计简洁直观，易于理解
- **操作便捷**: 主要功能可通过少量点击完成
- **无障碍**: 支持VoiceOver等无障碍功能

### 3. 可靠性需求
- **稳定运行**: 避免崩溃和异常退出
- **数据安全**: 用户数据安全存储，不会丢失
- **容错处理**: 合理处理异常情况和边界条件

## 优先级划分

### P0 (核心功能)
- 90分钟专注 + 20分钟休息的基本周期
- 3-5分钟随机微休息功能
- 基本的时间显示和控制

### P1 (重要功能)
- 时间参数配置功能
- 基本的音频提醒系统
- macOS和iOS基本适配

### P2 (增强功能)
- 自定义音频功能
- 数据统计和可视化
- 高级用户偏好设置

### P3 (扩展功能)
- 成就系统
- 高级数据分析
- 社区分享功能

## 验收标准

1. **功能完整性**: 所有P0和P1功能正常工作
2. **用户体验**: 界面友好，操作流畅
3. **跨平台一致性**: macOS和iOS版本功能一致
4. **性能表现**: 满足性能和资源占用要求
5. **稳定性**: 连续使用无崩溃和异常 