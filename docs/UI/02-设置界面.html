<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Focus-Daily - 设置</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        surface: {
                            50: '#fafafa',
                            100: '#f5f5f5',
                            200: '#e5e5e5',
                            300: '#d4d4d4',
                            400: '#a3a3a3',
                            500: '#737373',
                            600: '#525252',
                            700: '#404040',
                            800: '#262626',
                            900: '#171717',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', '-apple-system', 'BlinkMacSystemFont', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <!-- Inter字体 -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        /* 自定义样式 */
        .settings-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .dark .settings-card {
            background: rgba(23, 23, 23, 0.8);
            border: 1px solid rgba(64, 64, 64, 0.3);
        }
        
        /* 音频选择器样式 */
        .audio-dropdown {
            transition: all 0.3s ease;
        }
        
        /* 滑块样式 */
        .slider {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            height: 6px;
            border-radius: 3px;
            background: #e5e5ea;
            outline: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #0ea5e9;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(14, 165, 233, 0.3);
        }
        
        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #0ea5e9;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(14, 165, 233, 0.3);
            border: none;
        }
        
        .dark .slider {
            background: #404040;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-primary-50 to-primary-100 dark:from-surface-900 dark:to-surface-800 min-h-screen font-sans transition-colors duration-300">
    <!-- 应用容器 -->
    <div class="min-h-screen flex flex-col">
        <!-- 顶部工具栏 -->
        <header class="flex items-center justify-between p-6 bg-white/60 dark:bg-surface-900/60 backdrop-blur-md border-b border-surface-200 dark:border-surface-700">
            <div class="flex items-center space-x-3">
                <button class="p-2 rounded-lg bg-surface-100 dark:bg-surface-800 hover:bg-surface-200 dark:hover:bg-surface-700 transition-colors">
                    <span class="material-icons text-surface-700 dark:text-surface-300">arrow_back</span>
                </button>
                <h1 class="text-xl font-semibold text-surface-900 dark:text-surface-50">设置</h1>
            </div>
            
            <div class="flex items-center space-x-2">
                <!-- 暗黑模式切换 -->
                <button id="theme-toggle" class="p-2 rounded-lg bg-surface-100 dark:bg-surface-800 hover:bg-surface-200 dark:hover:bg-surface-700 transition-colors">
                    <span class="material-icons text-surface-700 dark:text-surface-300">dark_mode</span>
                </button>
                
                <!-- 最小化按钮 -->
                <button class="p-2 rounded-lg bg-surface-100 dark:bg-surface-800 hover:bg-surface-200 dark:hover:bg-surface-700 transition-colors">
                    <span class="material-icons text-surface-700 dark:text-surface-300">minimize</span>
                </button>
            </div>
        </header>

        <!-- 主内容区 -->
        <main class="flex-1 p-8 overflow-y-auto">
            <div class="max-w-2xl mx-auto space-y-6">
                
                <!-- 专注周期设置 -->
                <div class="settings-card rounded-2xl p-6 shadow-lg">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-10 h-10 bg-primary-500 rounded-lg flex items-center justify-center">
                            <span class="material-icons text-white">timer</span>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-surface-900 dark:text-surface-50">专注周期</h2>
                            <p class="text-sm text-surface-600 dark:text-surface-400">设置专注和休息时间</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <!-- 专注时长 -->
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">专注时长</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">每个专注周期的时长</p>
                            </div>
                            <div class="flex items-center space-x-3">
                                <input type="number" value="90" min="25" max="120" 
                                       class="w-16 px-3 py-2 text-center border border-surface-300 dark:border-surface-600 rounded-lg bg-white dark:bg-surface-800 text-surface-900 dark:text-surface-50 focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                <span class="text-sm text-surface-600 dark:text-surface-400">分钟</span>
                            </div>
                        </div>
                        
                        <!-- 长休息时长 -->
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">长休息时长</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">每个周期后的休息时长</p>
                            </div>
                            <div class="flex items-center space-x-3">
                                <input type="number" value="20" min="5" max="30" 
                                       class="w-16 px-3 py-2 text-center border border-surface-300 dark:border-surface-600 rounded-lg bg-white dark:bg-surface-800 text-surface-900 dark:text-surface-50 focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                <span class="text-sm text-surface-600 dark:text-surface-400">分钟</span>
                            </div>
                        </div>
                        
                        <!-- 快速预设 -->
                        <div>
                            <label class="text-sm font-medium text-surface-900 dark:text-surface-50 mb-3 block">快速预设</label>
                            <div class="flex flex-wrap gap-2">
                                <button class="px-3 py-1 text-xs border border-surface-300 dark:border-surface-600 rounded-md bg-white dark:bg-surface-800 text-surface-700 dark:text-surface-300 hover:bg-primary-50 dark:hover:bg-primary-900/20">
                                    番茄时钟 (25/5)
                                </button>
                                <button class="px-3 py-1 text-xs border border-surface-300 dark:border-surface-600 rounded-md bg-white dark:bg-surface-800 text-surface-700 dark:text-surface-300 hover:bg-primary-50 dark:hover:bg-primary-900/20">
                                    经典 (45/15)
                                </button>
                                <button class="px-3 py-1 text-xs border border-primary-500 rounded-md bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300">
                                    科学 (90/20)
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 微休息设置 -->
                <div class="settings-card rounded-2xl p-6 shadow-lg">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-10 h-10 bg-amber-500 rounded-lg flex items-center justify-center">
                            <span class="material-icons text-white">coffee</span>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-surface-900 dark:text-surface-50">微休息</h2>
                            <p class="text-sm text-surface-600 dark:text-surface-400">设置微休息参数</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <!-- 微休息开关 -->
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">启用微休息</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">在专注期间定期提醒短暂休息</p>
                            </div>
                            <button class="toggle-switch w-12 h-6 bg-primary-500 rounded-full relative transition-colors">
                                <div class="toggle-knob w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform transform translate-x-6"></div>
                            </button>
                        </div>
                        
                        <!-- 触发间隔 -->
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">触发间隔</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">微休息的随机间隔范围</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <input type="number" value="3" min="1" max="10" 
                                       class="w-12 px-2 py-1 text-center text-sm border border-surface-300 dark:border-surface-600 rounded bg-white dark:bg-surface-800 text-surface-900 dark:text-surface-50 focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                <span class="text-xs text-surface-600 dark:text-surface-400">至</span>
                                <input type="number" value="5" min="1" max="10" 
                                       class="w-12 px-2 py-1 text-center text-sm border border-surface-300 dark:border-surface-600 rounded bg-white dark:bg-surface-800 text-surface-900 dark:text-surface-50 focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                <span class="text-xs text-surface-600 dark:text-surface-400">分钟</span>
                            </div>
                        </div>
                        
                        <!-- 微休息时长 -->
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">微休息时长</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">每次微休息的持续时间</p>
                            </div>
                            <div class="flex items-center space-x-3">
                                <input type="number" value="15" min="5" max="60" 
                                       class="w-16 px-3 py-2 text-center border border-surface-300 dark:border-surface-600 rounded-lg bg-white dark:bg-surface-800 text-surface-900 dark:text-surface-50 focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                <span class="text-sm text-surface-600 dark:text-surface-400">秒</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 音频设置 -->
                <div class="settings-card rounded-2xl p-6 shadow-lg">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center">
                            <span class="material-icons text-white">volume_up</span>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-surface-900 dark:text-surface-50">音频设置</h2>
                            <p class="text-sm text-surface-600 dark:text-surface-400">配置提示音和音量</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <!-- 音量控制 -->
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">主音量</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">调整所有提示音的音量</p>
                            </div>
                            <div class="flex items-center space-x-2 min-w-0 flex-shrink-0" style="width: 140px;">
                                <span class="material-icons text-sm text-surface-600 dark:text-surface-400 flex-shrink-0">volume_down</span>
                                <input type="range" min="0" max="100" value="70" 
                                       class="slider flex-1 min-w-0">
                                <span class="material-icons text-sm text-surface-600 dark:text-surface-400 flex-shrink-0">volume_up</span>
                            </div>
                        </div>
                        
                        <!-- 专注开始音 -->
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">专注开始音</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">开始专注时的提示音</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <select class="px-3 py-2 border border-surface-300 dark:border-surface-600 rounded-lg bg-white dark:bg-surface-800 text-surface-900 dark:text-surface-50 text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                    <option>铃声 - 清脆</option>
                                    <option>钟声 - 温和</option>
                                    <option>自然音 - 鸟鸣</option>
                                </select>
                                <button class="audio-preview-btn p-2 rounded-lg bg-surface-100 dark:bg-surface-800 hover:bg-surface-200 dark:hover:bg-surface-700 transition-colors" data-audio="focus-start">
                                    <span class="material-icons text-sm text-surface-700 dark:text-surface-300">play_arrow</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- 微休息提醒音 -->
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">微休息提醒音</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">微休息开始和结束的提示音</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <select class="px-3 py-2 border border-surface-300 dark:border-surface-600 rounded-lg bg-white dark:bg-surface-800 text-surface-900 dark:text-surface-50 text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                    <option>轻柔 - 提示音</option>
                                    <option>铃声 - 短促</option>
                                    <option>自然音 - 水滴</option>
                                </select>
                                <button class="audio-preview-btn p-2 rounded-lg bg-surface-100 dark:bg-surface-800 hover:bg-surface-200 dark:hover:bg-surface-700 transition-colors" data-audio="micro-break">
                                    <span class="material-icons text-sm text-surface-700 dark:text-surface-300">play_arrow</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- 休息结束音 -->
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">休息结束音</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">长休息结束时的提示音</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <select class="px-3 py-2 border border-surface-300 dark:border-surface-600 rounded-lg bg-white dark:bg-surface-800 text-surface-900 dark:text-surface-50 text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                    <option>铃声 - 激励</option>
                                    <option>钟声 - 庄重</option>
                                    <option>自然音 - 风铃</option>
                                </select>
                                <button class="audio-preview-btn p-2 rounded-lg bg-surface-100 dark:bg-surface-800 hover:bg-surface-200 dark:hover:bg-surface-700 transition-colors" data-audio="break-end">
                                    <span class="material-icons text-sm text-surface-700 dark:text-surface-300">play_arrow</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 通知设置 -->
                <div class="settings-card rounded-2xl p-6 shadow-lg">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center">
                            <span class="material-icons text-white">notifications</span>
                        </div>
                        <div>
                            <h2 class="text-lg font-semibold text-surface-900 dark:text-surface-50">通知</h2>
                            <p class="text-sm text-surface-600 dark:text-surface-400">系统通知和提醒设置</p>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">桌面通知</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">显示系统通知提醒</p>
                            </div>
                            <button class="toggle-switch w-12 h-6 bg-primary-500 rounded-full relative transition-colors">
                                <div class="toggle-knob w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform transform translate-x-6"></div>
                            </button>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <div>
                                <label class="text-sm font-medium text-surface-900 dark:text-surface-50">开机自启动</label>
                                <p class="text-xs text-surface-600 dark:text-surface-400">系统启动时自动运行应用</p>
                            </div>
                            <button class="toggle-switch w-12 h-6 bg-surface-300 dark:bg-surface-600 rounded-full relative transition-colors">
                                <div class="toggle-knob w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform"></div>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 操作按钮 -->
                <div class="flex space-x-4">
                    <button class="flex-1 px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-medium rounded-lg transition-colors">
                        保存设置
                    </button>
                    <button class="px-6 py-3 border border-surface-300 dark:border-surface-600 text-surface-700 dark:text-surface-300 font-medium rounded-lg hover:bg-surface-50 dark:hover:bg-surface-800 transition-colors">
                        重置默认
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script>
        // 暗黑模式切换
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;
        
        // 检查本地存储的主题设置
        const currentTheme = localStorage.getItem('theme') || 'light';
        if (currentTheme === 'dark') {
            html.classList.add('dark');
            themeToggle.innerHTML = '<span class="material-icons text-surface-700 dark:text-surface-300">light_mode</span>';
        }
        
        themeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            const isDark = html.classList.contains('dark');
            
            // 更新图标
            themeToggle.innerHTML = isDark 
                ? '<span class="material-icons text-surface-700 dark:text-surface-300">light_mode</span>'
                : '<span class="material-icons text-surface-700 dark:text-surface-300">dark_mode</span>';
            
            // 保存到本地存储
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });
        
        // 切换开关功能
        document.querySelectorAll('.toggle-switch').forEach(toggle => {
            toggle.addEventListener('click', function() {
                const isActive = this.classList.contains('bg-primary-500');
                if (isActive) {
                    this.classList.remove('bg-primary-500');
                    this.classList.add('bg-surface-300', 'dark:bg-surface-600');
                    this.querySelector('.toggle-knob').classList.remove('translate-x-6');
                } else {
                    this.classList.add('bg-primary-500');
                    this.classList.remove('bg-surface-300', 'dark:bg-surface-600');
                    this.querySelector('.toggle-knob').classList.add('translate-x-6');
                }
            });
        });
        
        // 预设按钮功能
        document.querySelectorAll('.flex-wrap button').forEach(button => {
            button.addEventListener('click', function() {
                // 移除所有激活状态
                document.querySelectorAll('.flex-wrap button').forEach(btn => {
                    btn.classList.remove('border-primary-500', 'bg-primary-50', 'dark:bg-primary-900/20', 'text-primary-700', 'dark:text-primary-300');
                    btn.classList.add('border-surface-300', 'dark:border-surface-600', 'bg-white', 'dark:bg-surface-800', 'text-surface-700', 'dark:text-surface-300');
                });
                
                // 激活当前按钮
                this.classList.add('border-primary-500', 'bg-primary-50', 'dark:bg-primary-900/20', 'text-primary-700', 'dark:text-primary-300');
                this.classList.remove('border-surface-300', 'dark:border-surface-600', 'bg-white', 'dark:bg-surface-800', 'text-surface-700', 'dark:text-surface-300');
                
                // 根据预设更新值
                const focusInput = document.querySelector('input[value="90"]');
                const breakInput = document.querySelector('input[value="20"]');
                
                if (this.textContent.includes('25/5')) {
                    focusInput.value = 25;
                    breakInput.value = 5;
                } else if (this.textContent.includes('45/15')) {
                    focusInput.value = 45;
                    breakInput.value = 15;
                } else if (this.textContent.includes('90/20')) {
                    focusInput.value = 90;
                    breakInput.value = 20;
                }
            });
        });
        
        // 音频播放按钮
        document.querySelectorAll('.audio-preview-btn').forEach(btn => {
            let playingTimeout;
            
            // 鼠标悬停开始播放
            btn.addEventListener('mouseenter', function() {
                const audio = this.getAttribute('data-audio');
                const playIcon = this.querySelector('.material-icons');
                
                // 停止其他正在播放的音频
                document.querySelectorAll('.audio-preview-btn').forEach(otherBtn => {
                    const otherIcon = otherBtn.querySelector('.material-icons');
                    otherIcon.textContent = 'play_arrow';
                    otherBtn.classList.remove('bg-primary-100', 'dark:bg-primary-900/30');
                });
                
                // 开始播放当前音频
                playIcon.textContent = 'volume_up';
                this.classList.add('bg-primary-100', 'dark:bg-primary-900/30');
                
                // 模拟播放音频
                console.log(`正在播放音频: ${audio}`);
                
                // 设置播放时长（2秒）
                playingTimeout = setTimeout(() => {
                    playIcon.textContent = 'play_arrow';
                    this.classList.remove('bg-primary-100', 'dark:bg-primary-900/30');
                }, 2000);
            });
            
            // 鼠标离开停止播放
            btn.addEventListener('mouseleave', function() {
                const playIcon = this.querySelector('.material-icons');
                
                // 清除播放超时
                if (playingTimeout) {
                    clearTimeout(playingTimeout);
                }
                
                // 停止播放
                playIcon.textContent = 'play_arrow';
                this.classList.remove('bg-primary-100', 'dark:bg-primary-900/30');
                
                console.log('停止播放音频');
            });
            
            // 保留点击功能作为备用
            btn.addEventListener('click', function(e) {
                e.preventDefault(); // 防止重复触发
            });
        });
    </script>
</body>
</html> 